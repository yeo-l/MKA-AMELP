<h5 class="text-secondary"> {{currentProgram?.name}}</h5>
<hr>
<div class="row m-0 p-0">
  <div class="col-6 m-0">
    <h4 class="m-0">Data capture Form</h4>
  </div>
  <div class="col-6 text-right m-0">
    <button class="btn btn-secondary" [routerLink]="['/tracker', currentProgram?.code, currentProgram?.id]"> <i class="fa fa-caret-left"></i> Back to list</button>
  </div>
</div>
<hr class="m-2">
<form id="form" class="container border border-light bg-light" [formGroup]="trackerForm">
  <div #form class="mt-2">
    <div class="text-center p-5" *ngIf="loading">Loading form ...</div>
    <div class="form-group row" *ngIf="!loading">
      <label for="reportingPeriod" class="col-2">Reporting Period</label>
      <div class="col-4 input-group">
        <div class="input-group-prepend">
          <button class="input-group-text btn btn-primary" (click)="previewsYearPeriod()" title="Previous year"> <i class="fa fa-arrow-left"></i> </button>
        </div>
        <select name="s08WlYaNIno" id="reportingPeriod" class="form-control"(change)="selectPeriod($event)" formControlName="period">
          <option value=""></option>
          <option *ngFor="let period of periodList" value="{{period.id}}">{{period.value}}</option>
        </select>
        <div class="input-group-append">
          <button class="input-group-text btn btn-primary" (click)="nextYearPeriod()" title="Next year"> <i class="fa fa-arrow-right"></i> </button>
        </div>
      </div>
<!--      <span class="error alert-info" *ngIf="period.invalid && period.touched">{{message}}</span>-->
    </div>
  </div>
  <div class="text-center border-top" *ngIf="!loading">
    <div *ngIf="eventModel?.status === 'COMPLETED'">
      <button class="btn btn-primary mt-2" (click)="unCompleteData(eventId)">Open for edition</button>
    </div>
    <div *ngIf="eventModel?.status !== 'COMPLETED'">
      <button class="btn btn-info mt-2 mr-2" (click)="saveData()">Save</button>
      <button class="btn btn-primary mt-2" (click)="completeData()">Save and Complete</button>
    </div>
  </div>
</form>
